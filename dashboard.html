<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UniPortal - Панель управления</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/dashboard.css">
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-gray-800 dark:text-gray-200">
    <!-- Контейнер приложения -->
    <div class="dashboard-container">
        <!-- Боковая навигация (для десктопа) -->
        <nav id="desktop-nav" class="desktop-nav">
            <!-- Логотип -->
            <div class="nav-header">
                <div class="logo-container">
                    <span class="material-symbols-outlined logo-icon">school</span>
                    <span class="logo-text">UniPortal</span>
                </div>
            </div>
            
            <!-- Навигационные ссылки -->
            <div class="nav-content">
                <div class="nav-links">
                    <a href="dashboard.html" class="nav-link active">
                        <span class="material-symbols-outlined nav-icon">dashboard</span>
                        <span class="nav-text">Панель управления</span>
                    </a>
                    <a href="materials.html" class="nav-link">
                        <span class="material-symbols-outlined nav-icon">book</span>
                        <span class="nav-text">Материалы</span>
                    </a>
                    <a href="calendar.html" class="nav-link">
                        <span class="material-symbols-outlined nav-icon">calendar_month</span>
                        <span class="nav-text">Календарь</span>
                    </a>
                    <a href="schedule.html" class="nav-link">
                        <span class="material-symbols-outlined nav-icon">schedule</span>
                        <span class="nav-text">Расписание</span>
                    </a>
                    <a href="chat.html" class="nav-link">
                        <span class="material-symbols-outlined nav-icon">chat</span>
                        <span class="nav-text">Чат</span>
                    </a>
                    <a href="journal.html" class="nav-link">
                        <span class="material-symbols-outlined nav-icon">edit_note</span>
                        <span class="nav-text">Журнал</span>
                    </a>
                    <a href="information.html" class="nav-link">
                        <span class="material-symbols-outlined nav-icon">info</span>
                        <span class="nav-text">Информация</span>
                    </a>
                </div>
                
                <!-- Профиль пользователя -->
                <div class="user-profile">
                    <div class="profile-content">
                        <div class="avatar">А</div>
                        <div class="profile-info">
                            <p class="profile-name">Алексей Иванов</p>
                            <p class="profile-email">студент@университет.ru</p>
                        </div>
                        <a href="profile.html" class="profile-link">
                            <span class="material-symbols-outlined">person</span>
                        </a>
                    </div>
                </div>
            </div>
        </nav>
        
        <!-- Мобильная навигация (скрытое меню) -->
        <nav id="mobile-nav" class="mobile-nav">
            <!-- Логотип и кнопка закрытия -->
            <div class="mobile-nav-header">
                <div class="logo-container">
                    <span class="material-symbols-outlined logo-icon">school</span>
                    <span class="logo-text">UniPortal</span>
                </div>
                <button id="close-mobile-nav" class="close-nav-btn">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            
            <!-- Навигационные ссылки -->
            <div class="mobile-nav-content">
                <div class="nav-links">
                    <a href="dashboard.html" class="nav-link active">
                        <span class="material-symbols-outlined nav-icon">dashboard</span>
                        <span class="nav-text">Панель управления</span>
                    </a>
                    <a href="materials.html" class="nav-link">
                        <span class="material-symbols-outlined nav-icon">book</span>
                        <span class="nav-text">Материалы</span>
                    </a>
                    <a href="calendar.html" class="nav-link">
                        <span class="material-symbols-outlined nav-icon">calendar_month</span>
                        <span class="nav-text">Календарь</span>
                    </a>
                    <a href="schedule.html" class="nav-link">
                        <span class="material-symbols-outlined nav-icon">schedule</span>
                        <span class="nav-text">Расписание</span>
                    </a>
                    <a href="chat.html" class="nav-link">
                        <span class="material-symbols-outlined nav-icon">chat</span>
                        <span class="nav-text">Чат</span>
                    </a>
                    <a href="journal.html" class="nav-link">
                        <span class="material-symbols-outlined nav-icon">edit_note</span>
                        <span class="nav-text">Журнал</span>
                    </a>
                    <a href="information.html" class="nav-link">
                        <span class="material-symbols-outlined nav-icon">info</span>
                        <span class="nav-text">Информация</span>
                    </a>
                </div>
                
                <!-- Профиль пользователя -->
                <div class="mobile-user-profile">
                    <div class="profile-content">
                        <div class="avatar">А</div>
                        <div class="profile-info">
                            <p class="profile-name">Алексей Иванов</p>
                            <p class="profile-email">студент@университет.ru</p>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        
        <!-- Затемнение для мобильного меню -->
        <div id="mobile-nav-overlay" class="mobile-nav-overlay"></div>
        
        <!-- Основной контент -->
        <main class="main-content">
            <!-- Верхняя панель (для мобильных) -->
            <header class="main-header">
                <div class="header-content">
                    <!-- Левая часть: гамбургер-меню и заголовок -->
                    <div class="header-left">
                        <button id="open-mobile-nav" class="mobile-menu-btn">
                            <span class="material-symbols-outlined menu-icon">menu</span>
                        </button>
                        <div class="header-titles">
                            <h1 class="page-title">Панель управления</h1>
                            <p class="page-subtitle">Добро пожаловать, Алексей! Вот ваша сводка на сегодня.</p>
                        </div>
                    </div>
                    
                    <!-- Правая часть: поиск, уведомления, профиль -->
                    <div class="header-right">
                        <!-- Поиск (скрыт на мобильных) -->
                        <div class="search-container">
                            <span class="material-symbols-outlined search-icon">search</span>
                            <input type="text" placeholder="Поиск курсов, материалов..." class="search-input">
                        </div>
                        
                        <!-- Кнопка уведомлений -->
                        <button class="notification-btn">
                            <span class="material-symbols-outlined">notifications</span>
                            <span class="notification-badge">
                                <span class="notification-ping"></span>
                                <span class="notification-dot"></span>
                            </span>
                        </button>
                        
                        <!-- Профиль (только аватар на мобильных) -->
                        <a href="profile.html" class="profile-btn">
                            <div class="mobile-avatar">А</div>
                            <span class="profile-name-text">Алексей</span>
                        </a>
                    </div>
                </div>
                
                <!-- Описание для мобильных -->
                <p class="mobile-subtitle">Добро пожаловать, Алексей! Вот ваша сводка на сегодня.</p>
            </header>
            
            <!-- Основное содержимое -->
            <div class="content-area">
                <div class="content-container">
                    <!-- Сетка виджетов -->
                    <div class="widgets-grid">
                        <!-- Левая колонка (2/3 на десктопе) -->
                        <div class="left-column">
                            <!-- Прогресс обучения -->
                            <div class="widget progress-widget">
                                <h2 class="widget-title">Прогресс обучения</h2>
                                
                                <div class="progress-list">
                                    <!-- Прогресс 1 -->
                                    <div class="progress-item">
                                        <div class="progress-header">
                                            <p class="progress-subject">Высшая математика</p>
                                            <p class="progress-percent">75%</p>
                                        </div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 75%;"></div>
                                        </div>
                                        <p class="progress-desc">3/4 модулей завершено</p>
                                    </div>
                                    
                                    <!-- Прогресс 2 -->
                                    <div class="progress-item">
                                        <div class="progress-header">
                                            <p class="progress-subject">Физика</p>
                                            <p class="progress-percent">40%</p>
                                        </div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 40%;"></div>
                                        </div>
                                        <p class="progress-desc">2/5 модулей завершено</p>
                                    </div>
                                    
                                    <!-- Прогресс 3 -->
                                    <div class="progress-item">
                                        <div class="progress-header">
                                            <p class="progress-subject">Программирование</p>
                                            <p class="progress-percent">90%</p>
                                        </div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 90%;"></div>
                                        </div>
                                        <p class="progress-desc">9/10 глав прочитано</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Непрочитанные сообщения -->
                            <div class="widget messages-widget">
                                <h2 class="widget-title">Непрочитанные сообщения</h2>
                                
                                <div class="messages-list">
                                    <!-- Сообщение 1 -->
                                    <div class="message-item">
                                        <div class="message-avatar">И</div>
                                        <div class="message-content">
                                            <div class="message-header">
                                                <p class="message-sender">Ирина Петрова</p>
                                                <p class="message-time">1 час назад</p>
                                            </div>
                                            <p class="message-title">Обновление по проекту</p>
                                            <p class="message-preview">Привет! Пожалуйста, отправь последнюю версию черновика...</p>
                                        </div>
                                    </div>
                                    
                                    <!-- Сообщение 2 -->
                                    <div class="message-item">
                                        <div class="message-avatar">Г</div>
                                        <div class="message-content">
                                            <div class="message-header">
                                                <p class="message-sender">Группа по физике</p>
                                                <p class="message-time">3 часа назад</p>
                                            </div>
                                            <p class="message-title">Встреча завтра</p>
                                            <p class="message-preview">Всем привет! Напоминаю о нашей встрече завтра в 14:00...</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <a href="chat.html" class="widget-link">
                                    Перейти в чат
                                </a>
                            </div>
                        </div>
                        
                        <!-- Правая колонка (1/3 на десктопе) -->
                        <div class="right-column">
                            <!-- Ближайшие занятия -->
                            <div class="widget classes-widget">
                                <h2 class="widget-title">Ближайшие занятия</h2>
                                
                                <div class="classes-list">
                                    <!-- Занятие 1 -->
                                    <div class="class-item">
                                        <div class="class-time">
                                            <p class="time-start">10:00</p>
                                            <div class="time-line"></div>
                                            <p class="time-end">11:30</p>
                                        </div>
                                        <div class="class-info primary">
                                            <p class="class-name">Физика</p>
                                            <p class="class-teacher">Доц. Сергеев А.В.</p>
                                            <p class="class-location">Аудитория 301, Главный корпус</p>
                                        </div>
                                    </div>
                                    
                                    <!-- Занятие 2 -->
                                    <div class="class-item">
                                        <div class="class-time">
                                            <p class="time-start">13:00</p>
                                            <div class="time-line"></div>
                                            <p class="time-end">14:30</p>
                                        </div>
                                        <div class="class-info">
                                            <p class="class-name">Программирование</p>
                                            <p class="class-teacher">Проф. Иванова Е.П.</p>
                                            <p class="class-location">Онлайн - ссылка в портале</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <a href="schedule.html" class="widget-link">
                                    Посмотреть расписание
                                </a>
                            </div>
                            
                            <!-- Посещаемость -->
                            <div class="widget attendance-widget">
                                <h2 class="widget-title">Посещаемость</h2>
                                
                                <div class="attendance-chart">
                                    <svg class="attendance-svg" viewBox="0 0 36 36">
                                        <circle cx="18" cy="18" r="16" class="attendance-bg"></circle>
                                        <circle cx="18" cy="18" r="16" class="attendance-fill" stroke-dasharray="100" stroke-dashoffset="5"></circle>
                                    </svg>
                                    <div class="attendance-percent">95%</div>
                                </div>
                                
                                <p class="attendance-desc">Общая посещаемость отличная.</p>
                                <a href="journal.html" class="widget-link">Подробнее</a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Быстрые действия -->
                    <div class="quick-actions">
                        <h2 class="section-title">Быстрые действия</h2>
                        <div class="actions-grid">
                            <a href="materials.html" class="action-card">
                                <span class="material-symbols-outlined action-icon">book</span>
                                <p class="action-title">Материалы</p>
                                <p class="action-desc">Учебные материалы и лекции</p>
                            </a>
                            
                            <a href="journal.html" class="action-card">
                                <span class="material-symbols-outlined action-icon">edit_note</span>
                                <p class="action-title">Журнал</p>
                                <p class="action-desc">Посещаемость и оценки</p>
                            </a>
                            
                            <a href="chat.html" class="action-card">
                                <span class="material-symbols-outlined action-icon">chat</span>
                                <p class="action-title">Чат</p>
                                <p class="action-desc">Общение с группой</p>
                            </a>
                            
                            <a href="schedule.html" class="action-card">
                                <span class="material-symbols-outlined action-icon">schedule</span>
                                <p class="action-title">Расписание</p>
                                <p class="action-desc">Расписание занятий</p>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Футер -->
            <footer class="main-footer">
                <p class="footer-text">© 2025 UniPortal. Академическая платформа.</p>
            </footer>
        </main>
        
        <!-- Кнопка переключения темы -->
        <button id="theme-toggle" class="theme-toggle">
            <span class="material-symbols-outlined theme-icon">dark_mode</span>
        </button>
    </div>

    <script src="scripts/session.js"></script>
    <script>
        window.addEventListener('load', () => {
            checkAuth("index.html");
        });
    </script>

</body>
</html>